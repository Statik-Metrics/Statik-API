<%inherit file="base.html"/>

## SEO Stuff
<%block name="title">Index</%block>
<%block name="description">Statik API - Public API for Statik Metrics</%block>
<%block name="keywords">minecraft metrics statik api public java plugin server system stats graphs</%block>

## Main content
                <h1 class="ui header">API documentation</h1>

                <p> All API calls should be made to
                    <code>http://api.statik.io/FORMAT/ROUTE</code>.
                </p>
                <p> Replace <code>FORMAT</code> with either <code>xml</code>
                    or <code>json</code> and the API will return data in that
                    format. For example, <code>/xml/ROUTE</code> would return
                    ROUTE's data in XML format. <strong>Note,</strong> My XML
                    converter isn't working properly right now, looking into
                    fixing it post-haste.
                </p>
                <p> Replace <code>ROUTE</code> with the API route you want to call.
                    For example, <code>/json/routes</code> would return all routes
                    in JSON format.
                </p>
                <p> At lol768's
                    <a href="https://github.com/Statik-Metrics/Statik-API/issues/3#issuecomment-52191070">request</a>,
                    You may also make calls using <code>api</code> as the
                    <code>FORMAT</code>, specifying either <code>text/xml</code>
                    or <code>application/json</code> in the <code>Accepts</code>
                    header, and you'll get your response in the format you expect.
                </p>
               ## <p> If any route requires you to POST or PUT data, it
               ##     <strong>must</strong> be in <strong>JSON format</strong>.
               ## </p>

                <div class="ui horizontal icon divider">
                     <i class="circular warning icon inverted red"></i>
                </div>

                <h4 class="ui header">Errors</h4>

                <p> If an internal server error occurred, it will be
                    returned in the response instead of your expected
                    response. The following are examples of this in both
                    formats.
                </p>

                <div class="ui fluid accordion">
        <div class="title">
            <i class="dropdown icon"></i>
            JSON
        </div>
        <div class="content">
            <div class="ui secondary code-segment segment">
                <div class="codehilite">

<pre><span class="p">{</span>
    <span class="nt">&quot;error&quot;</span><span class="p">:</span> <span class="s2">&quot;Error text.&quot;</span>
<span class="p">}</span>
</pre>

                </div>

        </div>
    </div>
    <div class="title">
        <i class="dropdown icon"></i>
        XML
    </div>
    <div class="content">
        <div class="ui secondary code-segment segment">
            <div class="codehilite"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;data&gt;</span>
  <span class="nt">&lt;error</span> <span class="na">type=</span><span class="s">&quot;str&quot;</span><span class="nt">&gt;</span>Error text.<span class="nt">&lt;/error&gt;</span>
<span class="nt">&lt;/data&gt;</span>
</pre></div>

        </div>
    </div>
</div>

                <div class="ui horizontal icon divider">
                     <i class="circular terminal icon inverted teal"></i>
                </div>

% for api in sorted(apis.keys()):
                <!-- Route segment: ${api | h} -->

                <h4 class="ui header">${api | h}</h4>

    % for method in sorted(apis[api].keys()):
                <h4 class="ui green attached message">HTTP ${method | h}</h4>

                <div class="ui fluid raised attached segment">
                    ${apis[api][method]["html"]}
                </div>

    % endfor

% endfor
